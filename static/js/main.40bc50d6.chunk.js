(this.webpackJsonpcovid19data=this.webpackJsonpcovid19data||[]).push([[0],{33:function(e,t,a){e.exports=a(70)},38:function(e,t,a){},39:function(e,t,a){},42:function(e,t){},44:function(e,t){},70:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(14),c=a.n(r),u=(a(38),a(39),a(27)),o=a(28),s=a(31),d=a(32),i=a(15),m=a(3),h=a.n(m),f=function(e){var t=e.rowData,a=e.handleOpenModal;return l.a.createElement("tr",{onClick:function(){return a()}},l.a.createElement("td",null,t[1]),l.a.createElement("td",null,t[3]),l.a.createElement("td",null,t[4]))},E=(a(55),a(30)),p=a.n(E),C=function(e){var t=e.selectedCountry,a=e.selectedPreviousCountry,n=e.handleCloseModal;return console.log(t),l.a.createElement(l.a.Fragment,null,l.a.createElement("h1",null,t[1]),l.a.createElement("table",{className:"table table-borderless"},l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",null,"Confirmed:"),l.a.createElement("td",null,t[3])),l.a.createElement("tr",null,l.a.createElement("td",null,"Deaths:"),l.a.createElement("td",null,t[4])),l.a.createElement("tr",null,l.a.createElement("td",null,"Recovered:"),l.a.createElement("td",null,t[5])),l.a.createElement("tr",null,l.a.createElement("td",null,"Newly infected:"),l.a.createElement("td",null,+t[3]-+a[3])),l.a.createElement("tr",null,l.a.createElement("td",null,"New deaths:"),l.a.createElement("td",null,+t[4]-+a[4])))),l.a.createElement("button",{className:"btn btn-info",onClick:function(){return n()}},"Close"))},D=function(e){Object(d.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).handleOpenModal=function(e){var t,a,l=n.state.filteredData.find((function(t){return t[1]===e}));l&&(t=l),(l=n.state.previousDayData.find((function(t){return t[1]===e})))&&(a=l),n.setState({showModal:!0,selectedCountry:t,selectedCountryPreviousDayData:a})},n.handleCloseModal=function(){n.setState({showModal:!1,selectedCountry:""})},n.fetchData=function(){var e=h()(new Date).subtract(3,"days"),t="https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_daily_reports/";Object(i.a)(t+h()(e).format("MM-DD-YYYY")+".csv",{complete:function(e){return n.updateData(e,!1)}}),Object(i.a)(t+h()(e.subtract(1,"days")).format("MM-DD-YYYY")+".csv",{complete:function(e){return n.updateData(e,!0)}})},n.handleFilterInputChanged=function(e){var t=n.state.data.filter((function(t){return t[3].toLowerCase().includes(e.target.value.toLowerCase())}));n.setState({filterString:e.target.value,filteredData:t})},n.addStatistics=function(e,t){return e[3]=e[3]+Number(t[7]),e[4]=e[4]+Number(t[8]),e[5]=e[5]+Number(t[9]),e},n.updateData=function(e,t){var a=[];a.push(["","Canada","",0,0,0,"",""]),a.push(["","US","",0,0,0,"",""]),a.push(["","China","",0,0,0,"",""]),a.push(["","Australia","",0,0,0,"",""]),e.data.forEach((function(e){var t=e[3];"China"===t?a[2]=n.addStatistics(a[2],e):"US"===t?a[1]=n.addStatistics(a[1],e):"Canada"===t?a[0]=n.addStatistics(a[0],e):"Australia"===t?a[3]=n.addStatistics(a[3],e):1!==e.length&&"Country/Region"!==t&&a.push(e)})),a.sort((function(e,t){return t[3]-e[3]})),t?n.setState({previousDayData:a}):n.setState({data:a,filteredData:a})},n.state={data:[],filteredData:[],previousDayData:[],filterString:"",showModal:!1,selectedCountry:"",selectedCountryPreviousDayData:""},n.fetchData(),n}return Object(o.a)(a,[{key:"render",value:function(){var e=this;return l.a.createElement("div",null,l.a.createElement("h1",{className:"display-3"},"COVID19 cases by country"),l.a.createElement("h1",{className:"display-4"},"data fetched on "+h()(new Date).format("MMMM Do YYYY")),l.a.createElement(p.a,{isOpen:this.state.showModal,contentLabel:"Details",onRequestClose:function(){return e.handleCloseModal()},shouldCloseOnOverlayClick:!0,ariaHideApp:!1,className:"Modal"},l.a.createElement(C,{selectedCountry:this.state.selectedCountry,selectedPreviousCountry:this.state.selectedCountryPreviousDayData,handleCloseModal:function(){return e.handleCloseModal()}})),".",l.a.createElement("input",{className:"form-control",placeholder:"Search for country name",type:"text",value:this.state.filterString,onChange:function(t){return e.handleFilterInputChanged(t)}}),l.a.createElement("table",{className:"table"},l.a.createElement("thead",{className:"thead-dark"},l.a.createElement("tr",null,l.a.createElement("th",null,"Country"),l.a.createElement("th",null,"Infected"),l.a.createElement("th",null,"Deaths"))),l.a.createElement("tbody",null,this.state.filteredData.map((function(t){return l.a.createElement(f,{key:t,rowData:t,handleOpenModal:function(){return e.handleOpenModal(t[1])}})})))))}}]),a}(n.Component);var y=function(){return l.a.createElement("div",{className:"App"},l.a.createElement(D,null))};c.a.render(l.a.createElement(y,null),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.40bc50d6.chunk.js.map