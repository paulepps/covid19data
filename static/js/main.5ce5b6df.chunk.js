(this.webpackJsonpcovid19data=this.webpackJsonpcovid19data||[]).push([[0],{34:function(e,t,a){e.exports=a(71)},39:function(e,t,a){},40:function(e,t,a){},43:function(e,t){},45:function(e,t){},71:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(15),c=a.n(r),u=(a(39),a(40),a(27)),o=a(28),s=a(32),d=a(29),i=a(33),m=a(16),h=a(4),f=a.n(h),E=function(e){var t=e.rowData,a=e.handleOpenModal;return l.a.createElement("tr",{onClick:function(){return a()}},l.a.createElement("td",null,t[1]),l.a.createElement("td",null,t[3]),l.a.createElement("td",null,t[4]))},p=(a(58),a(31)),C=a.n(p),D=function(e){var t=e.selectedCountry,a=e.selectedPreviousCountry,n=e.handleCloseModal;return console.log(t),l.a.createElement(l.a.Fragment,null,l.a.createElement("h1",null,t[1]),l.a.createElement("table",{className:"table table-borderless"},l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",null,"Confirmed:"),l.a.createElement("td",null,t[3])),l.a.createElement("tr",null,l.a.createElement("td",null,"Deaths:"),l.a.createElement("td",null,t[4])),l.a.createElement("tr",null,l.a.createElement("td",null,"Recovered:"),l.a.createElement("td",null,t[5])),l.a.createElement("tr",null,l.a.createElement("td",null,"Newly infected:"),l.a.createElement("td",null,+t[3]-+a[3])),l.a.createElement("tr",null,l.a.createElement("td",null,"New deaths:"),l.a.createElement("td",null,+t[4]-+a[4])))),l.a.createElement("button",{className:"btn btn-info",onClick:function(){return n()}},"Close"))},y=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(s.a)(this,Object(d.a)(t).call(this,e))).handleOpenModal=function(e){var t,n,l=a.state.filteredData.find((function(t){return t[1]===e}));l&&(t=l),(l=a.state.previousDayData.find((function(t){return t[1]===e})))&&(n=l),a.setState({showModal:!0,selectedCountry:t,selectedCountryPreviousDayData:n})},a.handleCloseModal=function(){a.setState({showModal:!1,selectedCountry:""})},a.fetchData=function(){var e=f()(new Date).subtract(1,"days"),t="https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_daily_reports/";Object(m.a)(t+f()(e).format("MM-DD-YYYY")+".csv",{complete:function(e){return a.updateData(e,!1)}}),Object(m.a)(t+f()(e.subtract(1,"days")).format("MM-DD-YYYY")+".csv",{complete:function(e){return a.updateData(e,!0)}})},a.handleFilterInputChanged=function(e){var t=a.state.data.filter((function(t){return t[1].toLowerCase().includes(e.target.value.toLowerCase())}));a.setState({filterString:e.target.value,filteredData:t})},a.addStatistics=function(e,t){return e[3]=e[3]+Number(t[3]),e[4]=e[4]+Number(t[4]),e[5]=e[5]+Number(t[5]),e},a.updateData=function(e,t){var n=[];n.push(["","Canada","",0,0,0,"",""]),n.push(["","US","",0,0,0,"",""]),n.push(["","China","",0,0,0,"",""]),n.push(["","Australia","",0,0,0,"",""]),e.data.forEach((function(e){var t=e[1];"China"===t?n[2]=a.addStatistics(n[2],e):"US"===t?n[1]=a.addStatistics(n[1],e):"Canada"===t?n[0]=a.addStatistics(n[0],e):"Australia"===t?n[3]=a.addStatistics(n[3],e):1!==e.length&&"Country/Region"!==t&&n.push(e)})),n.sort((function(e,t){return t[3]-e[3]})),t?a.setState({previousDayData:n}):a.setState({data:n,filteredData:n})},a.state={data:[],filteredData:[],previousDayData:[],filterString:"",showModal:!1,selectedCountry:"",selectedCountryPreviousDayData:""},a.fetchData(),a}return Object(i.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",null,l.a.createElement("h1",{className:"display-3"},"COVID19 cases by country"),l.a.createElement("h1",{className:"display-4"},"data fetched on "+f()(new Date).format("MMMM Do YYYY")),l.a.createElement(C.a,{isOpen:this.state.showModal,contentLabel:"Details",onRequestClose:function(){return e.handleCloseModal()},shouldCloseOnOverlayClick:!0,ariaHideApp:!1,className:"Modal"},l.a.createElement(D,{selectedCountry:this.state.selectedCountry,selectedPreviousCountry:this.state.selectedCountryPreviousDayData,handleCloseModal:function(){return e.handleCloseModal()}})),".",l.a.createElement("input",{className:"form-control",placeholder:"Search for country name",type:"text",value:this.state.filterString,onChange:function(t){return e.handleFilterInputChanged(t)}}),l.a.createElement("table",{className:"table"},l.a.createElement("thead",{className:"thead-dark"},l.a.createElement("tr",null,l.a.createElement("th",null,"Country"),l.a.createElement("th",null,"Infected"),l.a.createElement("th",null,"Deaths"))),l.a.createElement("tbody",null,this.state.filteredData.map((function(t){return l.a.createElement(E,{key:t,rowData:t,handleOpenModal:function(){return e.handleOpenModal(t[1])}})})))))}}]),t}(n.Component);var v=function(){return l.a.createElement("div",{className:"App"},l.a.createElement(y,null))};c.a.render(l.a.createElement(v,null),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.5ce5b6df.chunk.js.map